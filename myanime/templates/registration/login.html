{% extends 'base.html' %}

{% block title %}–í—Ö–æ–¥ | AniParser{% endblock %}

{% block content %}
<div class="auth-wrapper">
    <div class="ambient-light one"></div>
    <div class="ambient-light two"></div>

    <div class="auth-container">
        <div class="auth-card fade-in">
            <div class="auth-header">
                <h2>–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º! üëã</h2>
                <p>–ú—ã —Å–∫—É—á–∞–ª–∏. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞.</p>
            </div>

            <form method="post" class="auth-form" data-no-swup>
                {% csrf_token %}

                {% if form.non_field_errors %}
                    <div class="global-error">
                        {{ form.non_field_errors.0 }}
                    </div>
                {% endif %}

                {% for field in form %}
                    <div class="form-group">

                        <div class="label-row">
                            <label for="{{ field.id_for_label }}">{{ field.label }}</label>

                            {% if 'password' in field.name %}
                                <a href="{% url 'password_reset' %}" class="forgot-link">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                            {% endif %}
                        </div>

                        <div class="input-wrapper">
                            {{ field }}
                            {% if 'password' in field.name %}
                                <button type="button" class="toggle-password" onclick="togglePassword(this)">
                                    <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                                </button>
                            {% endif %}
                        </div>

                        {% if field.errors %}
                            <div class="error-msg">
                                {{ field.errors.0 }}
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}

                <button type="submit" class="auth-btn">
                    –í–æ–π—Ç–∏
                    <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                </button>
            </form>

            <div class="auth-footer">
                –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="{% url 'register' %}">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
            </div>
        </div>
    </div>
</div>

{% include 'includes/auth_styles.html' %}

<style>
    .label-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
    }

    /* –°–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø —É label, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Ç–µ–ø–µ—Ä—å –≤–Ω—É—Ç—Ä–∏ label-row */
    .form-group label {
        margin-bottom: 0;
    }

    .forgot-link {
        font-size: 0.85rem;
        color: var(--text-sec);
        text-decoration: none;
        transition: color 0.2s ease;
        font-weight: 500;
    }

    .forgot-link:hover {
        color: var(--primary);
        text-decoration: underline;
    }
</style>
{% endblock %}
