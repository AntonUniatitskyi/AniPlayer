/* === CUSTOM DROPDOWN === */
.custom-dropdown {
    position: relative;
    width: auto;
    flex-grow: 0;
}

/* –ö–Ω–æ–ø–∫–∞ (–¢—Ä–∏–≥–≥–µ—Ä) */
.dropdown-trigger {
    width: auto;
    min-width: 190px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;

    background: var(--glass-element-bg);
    /* –í–∞—à–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç–µ–∫–ª–∞ */
    border: 1px solid var(--border);
    color: var(--text-main);

    padding: 10px 14px;
    border-radius: 12px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    backdrop-filter: blur(10px);
    white-space: nowrap;
}

.dropdown-trigger:hover {
    background: var(--surface-hover);
    border-color: var(--text-sec);
}

.dropdown-trigger.active {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px var(--primary-glow);
}

/* –ò–∫–æ–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤ –∫–Ω–æ–ø–∫–µ */
.current-status-icon {
    display: flex;
    align-items: center;
    width: 20px;
    justify-content: center;
}

.current-status-icon svg {
    width: 18px;
    height: 18px;
}

.current-status-text {
    flex-grow: 1;
    text-align: center;
    /* –¢–µ–∫—Å—Ç —Å–ª–µ–≤–∞, —Å—Ç—Ä–µ–ª–∫–∞ —Å–ø—Ä–∞–≤–∞ */
}

.chevron {
    transition: transform 0.3s ease;
    color: var(--text-sec);
}

/* –ü–æ–≤–æ—Ä–æ—Ç —Å—Ç—Ä–µ–ª–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ */
.custom-dropdown.open .chevron {
    transform: rotate(180deg);
}

/* === –í–´–ü–ê–î–ê–Æ–©–ï–ï –ú–ï–ù–Æ === */
.dropdown-menu {
    position: absolute;
    top: calc(100% + 8px);
    /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
    left: 0;
    width: max-content;

    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 6px;

    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    z-index: 100;
    min-width: 100%;
    max-width: 250px;

    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s cubic-bezier(0.165, 0.84, 0.44, 1);
}

.custom-dropdown.open .dropdown-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.dropdown-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 8px;
    color: var(--text-sec);
    cursor: pointer;
    transition: 0.15s;
    font-size: 0.85rem;
    font-weight: 500;
    white-space: nowrap;
}

.dropdown-item:hover {
    background: var(--surface-hover);
    color: var(--text-main);
}

.dropdown-item:hover .dd-icon {
    color: var(--primary);
}

.dropdown-item.danger:hover {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
}

.dropdown-item.danger .dd-icon {
    color: #ef4444;
}

.dropdown-divider {
    height: 1px;
    background: var(--border);
    margin: 4px 0;
}

/* === –ü–ê–ù–ï–õ–¨ –î–ï–ô–°–¢–í–ò–ô (User Actions) === */
.user-actions-row {
    display: flex;
    align-items: center;
    gap: 12px;
    /* –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Å–µ–ª–µ–∫—Ç–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π */
    margin-top: auto;
    /* –ü—Ä–∏–∂–∏–º–∞–µ—Ç –∫ –Ω–∏–∑—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è flex-direction: column —É —Ä–æ–¥–∏—Ç–µ–ª—è */
    justify-content: flex-start;
}

/* –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —Å–µ–ª–µ–∫—Ç–∞, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É */
.custom-select-wrapper {
    position: relative;
    flex-grow: 0;
    /* –°–µ–ª–µ–∫—Ç –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—ë –¥–æ—Å—Ç—É–ø–Ω–æ–µ –º–µ—Å—Ç–æ */
    max-width: 190px;
    /* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã */
}

/* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –°–µ–ª–µ–∫—Ç–∞ */
.status-select {
    width: 100%;
    appearance: none;
    -webkit-appearance: none;
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-main);
    border: 1px solid var(--border);
    padding: 0 40px 0 16px;
    /* –û—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ */
    height: 48px;
    /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è */
    border-radius: 12px;
    font-size: 0.95rem;
    font-weight: 600;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç –≤ Firefox */
    text-align-last: center;
}

.status-select:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--text-sec);
}

.status-select:focus {
    border-color: var(--primary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.2);
}

.status-select option {
    text-align: center;
}

/* –ò–∫–æ–Ω–∫–∞ —Å—Ç—Ä–µ–ª–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ–ª–µ–∫—Ç–∞ */
.select-icon {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    color: var(--text-sec);
}

/* === –ö–ù–û–ü–ö–ê –ö–û–õ–û–ö–û–õ–¨–ß–ò–ö–ê === */
.bell-btn {
    position: relative;
    width: 48px;
    height: 48px;
    /* –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è, –≤—ã—Å–æ—Ç–∞ —Ä–∞–≤–Ω–∞ —Å–µ–ª–µ–∫—Ç—É */
    flex-shrink: 0;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border);
    border-radius: 12px;
    color: var(--text-sec);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    outline: none;
}

/* –•–æ–≤–µ—Ä —ç—Ñ—Ñ–µ–∫—Ç */
.bell-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    transform: translateY(-2px);
    border-color: rgba(255, 255, 255, 0.3);
}

/* –ù–∞–∂–∞—Ç–∏–µ */
.bell-btn:active {
    transform: scale(0.95);
}

/* === –ê–ö–¢–ò–í–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï (–ü–û–î–ü–ò–°–ê–ù) === */
.bell-btn.active {
    background: var(--primary);
    /* –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ #facc15 –¥–ª—è –∑–æ–ª–æ—Ç–æ–≥–æ */
    border-color: var(--primary);
    color: #fff;
    /* –¶–≤–µ—Ç –∏–∫–æ–Ω–∫–∏ –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–º —Ñ–æ–Ω–µ */
    box-shadow: 0 4px 15px rgba(var(--primary-rgb), 0.4);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ */
.bell-btn.active .bell-icon {
    animation: bell-ring 0.6s ease-in-out;
    fill: currentColor;
    /* –ó–∞–ª–∏–≤–∫–∞ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞ —Ü–≤–µ—Ç–æ–º —Ç–µ–∫—Å—Ç–∞ */
}

/* –ú–∞–ª–µ–Ω—å–∫–∞—è –≥–∞–ª–æ—á–∫–∞-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä */
.bell-status-check {
    position: absolute;
    top: -6px;
    right: -6px;
    width: 18px;
    height: 18px;
    background: #10b981;
    /* –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç —É—Å–ø–µ—Ö–∞ */
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid var(--bg-body);
    /* –û–±–≤–æ–¥–∫–∞ –ø–æ–¥ —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    transform: scale(0);
    transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.bell-btn.active .bell-status-check {
    transform: scale(1);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –∑–≤–æ–Ω–∫–∞ */
@keyframes bell-ring {
    0% {
        transform: rotate(0);
    }

    15% {
        transform: rotate(15deg);
    }

    30% {
        transform: rotate(-15deg);
    }

    45% {
        transform: rotate(10deg);
    }

    60% {
        transform: rotate(-10deg);
    }

    75% {
        transform: rotate(5deg);
    }

    100% {
        transform: rotate(0);
    }
}

/* === –°–¢–ò–õ–ò –î–õ–Ø –ë–õ–û–ö–ê "–ü–û–•–û–ñ–ï–ï" === */

.similar-section {
    margin-top: 60px;
    margin-bottom: 40px;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 25px;
    color: var(--text-main);
    border-left: 4px solid var(--primary);
    padding-left: 15px;
}

/* –°–∞–º–∞ —Å–µ—Ç–∫–∞ */
.anime-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 20px;
}

/* === –°–¢–ò–õ–ò –ö–ê–†–¢–û–ß–ö–ò (–î—É–±–ª–∏—Ä—É–µ–º, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ) === */
.anime-card {
    background: transparent;
    border: none;
    border-radius: 16px;
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease;
}

.anime-card:hover {
    transform: translateY(-5px);
}

.poster-wrapper {
    position: relative;
    aspect-ratio: 455/650;
    border-radius: 12px;
    overflow: hidden;
    background: #18181b;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}

.poster-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.anime-card:hover .poster-wrapper img {
    transform: scale(1.05);
}

/* –û–≤–µ—Ä–ª–µ–π —Å –∫–Ω–æ–ø–∫–æ–π Play –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
.card-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: 0.3s;
}

.anime-card:hover .card-overlay {
    opacity: 1;
}

.play-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    transform: scale(0.8);
    transition: 0.3s;
}

.anime-card:hover .play-icon {
    transform: scale(1);
    background: var(--primary);
}

.card-info {
    padding-top: 10px;
}

.card-title {
    font-size: 0.9rem;
    font-weight: 600;
    line-height: 1.3;
    color: var(--text-main);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.anime-card:hover .card-title {
    color: var(--primary);
}

.card-meta {
    font-size: 0.8rem;
    color: var(--text-sec);
    margin-top: 4px;
}

/* –ë–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ include) */
.status-badge-overlay {
    position: absolute;
    top: 8px;
    left: 8px;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 0.7rem;
    font-weight: 700;
    color: #fff;
    text-transform: uppercase;
    backdrop-filter: blur(4px);
}

.anime-card[data-status="watching"] .status-badge-overlay {
    background: rgba(16, 185, 129, 0.9);
}

.anime-card[data-status="planned"] .status-badge-overlay {
    background: rgba(59, 130, 246, 0.9);
}

.anime-card[data-status="completed"] .status-badge-overlay {
    background: rgba(139, 92, 246, 0.9);
}

/* –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è —Å–µ—Ç–∫–∏ */
@media (max-width: 600px) {
    .anime-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }
}

/* –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 600px) {
    .user-actions-row {
        width: 100%;
    }

    .custom-select-wrapper {
        max-width: none;
    }
}

/* === –û–°–ù–û–í–ê === */
body {
    background-color: var(--bg-body);
    color: var(--text-main);
    font-family: 'Inter', sans-serif;
    margin: 0;
}

/* –§–æ–Ω: –í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç —É—Ö–æ–¥–∏—Ç –≤ —Å–≤–µ—Ç–ª—ã–π, —Ç–µ–∫—Å—Ç —á–∏—Ç–∞–µ—Ç—Å—è */
.anime-backdrop {
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;
    background-color: var(--bg-body);
    overflow: hidden;
}

.backdrop-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center top;
    filter: blur(60px) brightness(0.5);
    opacity: 0.5;
    /* –ß—É—Ç—å —Ç–µ–º–Ω–µ–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ */
    transform: scale(1.1);
    background-repeat: no-repeat;
}

.backdrop-gradient {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, var(--bg-body) 0%, transparent 40%, var(--bg-body) 100%);
}

.content-wrapper.detail-page {
    max-width: 1280px;
    padding: 30px 20px;
    position: relative;
    z-index: 1;
    margin: 0 auto;
}

/* === –ì–ï–†–û–ô === */
.anime-hero {
    display: flex;
    gap: 40px;
    margin-bottom: 50px;
    align-items: flex-start;
}

.poster-container {
    flex-shrink: 0;
    width: 260px;
}

.poster-card {
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
    /* –¢–µ–Ω—å –º—è–≥—á–µ */
    border: 1px solid var(--border);
    background: var(--surface);
}

.main-poster {
    width: 100%;
    display: block;
    object-fit: cover;
    aspect-ratio: 455/650;
}

.info-container {
    flex-grow: 1;
    padding-top: 5px;
    min-width: 0;
}

.anime-title {
    font-size: 2.8rem;
    font-weight: 800;
    line-height: 1.1;
    margin: 0 0 10px 0;
    color: var(--text-main);
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ü–≤–µ—Ç! */
    letter-spacing: -0.02em;
    text-shadow: 0 0 30px var(--bg-body);
    /* –°–≤–µ—á–µ–Ω–∏–µ –ø–æ–¥ —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
}

.anime-subtitle {
    font-size: 1.2rem;
    font-weight: 400;
    color: var(--text-sec);
    margin: 0 0 20px 0;
}

.meta-tags {
    display: flex;
    gap: 10px;
    margin-bottom: 25px;
    flex-wrap: wrap;
}

.tag {
    background: var(--surface);
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ñ–æ–Ω */
    padding: 5px 12px;
    border-radius: 8px;
    font-size: 0.85rem;
    color: var(--text-sec);
    border: 1px solid var(--border);
    font-weight: 500;
}

.tag.year {
    background: var(--primary);
    color: #fff;
    border: none;
}

.description-box {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--text-main);
    margin-bottom: 30px;
    max-width: 850px;
    opacity: 0.9;
}

/* –°–µ–ª–µ–∫—Ç (–∫–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ç—É—Å–∞) */
.status-select {
    appearance: none;
    -webkit-appearance: none;
    background: var(--surface);
    /* –§–æ–Ω –º–µ–Ω—è–µ—Ç—Å—è */
    color: var(--text-main);
    /* –¢–µ–∫—Å—Ç –º–µ–Ω—è–µ—Ç—Å—è */
    border: 1px solid var(--border);
    padding: 12px 40px 12px 20px;
    border-radius: 12px;
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    backdrop-filter: blur(10px);
    transition: 0.2s;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.status-select:hover {
    border-color: var(--primary);
}

.status-select option {
    background: var(--surface);
    color: var(--text-main);
    padding: 10px;
}

.select-arrow {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-sec);
    pointer-events: none;
    font-size: 0.7rem;
}

/* === –ü–õ–ï–ï–† –ò –°–ü–ò–°–û–ö === */
.player-section {
    margin-top: 40px;
}

.cinema-container {
    display: grid;
    grid-template-columns: minmax(0, 1fr) 300px;
    background: var(--surface);
    /* –í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ —Å–∞–π–¥–±–∞—Ä –±—É–¥–µ—Ç —Å–≤–µ—Ç–ª—ã–º! */
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
    /* –¢–µ–Ω—å –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö */
    align-items: stretch;
}

.cinema-container.movie-mode {
    display: block;
    max-width: 1000px;
    margin: 0 auto;
}

.cinema-container.movie-mode .playlist-sidebar {
    display: none !important;
}

.cinema-container.movie-mode .video-wrapper {
    width: 100%;
    aspect-ratio: 16/9;
    /* –î–µ—Ä–∂–∏–º –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ */
    border-radius: 16px;
    /* –°–∫—Ä—É–≥–ª—è–µ–º —É–≥–ª—ã —É –≤—Å–µ–≥–æ –ø–ª–µ–µ—Ä–∞ */
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    /* –î–æ–±–∞–≤–ª—è–µ–º –º–æ—â–Ω—É—é "–∫–∏–Ω–æ—à–Ω—É—é" —Ç–µ–Ω—å */
}

.cinema-container.movie-mode {
    border: none;
    background: transparent;
    box-shadow: none;
}

/* –í–∏–¥–µ–æ –æ—Å—Ç–∞–µ—Ç—Å—è —á–µ—Ä–Ω—ã–º –≤—Å–µ–≥–¥–∞ */
.video-wrapper {
    position: relative;
    width: 100%;
    aspect-ratio: 16/9;
    background: #000;
    z-index: 2;
}

.plyr {
    width: 100%;
    height: 100%;
}

/* –ö–Ω–æ–ø–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞ (–≤—Å–µ–≥–¥–∞ —Ç–µ–º–Ω—ã–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ —Å –≤–∏–¥–µ–æ) */
.skip-btn {
    pointer-events: auto;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #fff;
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: 0.2s;
}

.skip-btn:hover {
    background: var(--primary);
    border-color: var(--primary);
}

.skip-buttons-container {
    position: absolute;
    bottom: 60px;
    right: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    z-index: 100;
    pointer-events: none;
}

/* –°–ê–ô–î–ë–ê–† (–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π) */
.playlist-sidebar {
    background: var(--surface);
    /* –¶–≤–µ—Ç —Ç–µ–º—ã */
    border-left: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    height: 0;
    overflow: hidden;
    min-height: 100%;
    overflow: hidden;
}

.playlist-header {
    padding: 15px 20px;
    background: var(--input-bg);
    /* –ß—É—Ç—å —Ç–µ–º–Ω–µ–µ —Ñ–æ–Ω–∞ */
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
}

.ph-title {
    font-weight: 700;
    color: var(--text-main);
    font-size: 1rem;
}

.ph-count {
    background: var(--surface);
    padding: 2px 8px;
    border-radius: 6px;
    font-size: 0.75rem;
    color: var(--text-sec);
    border: 1px solid var(--border);
}

.playlist-controls {
    padding: 15px;
    border-bottom: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    gap: 10px;
    flex-shrink: 0;
}

.search-wrap {
    position: relative;
    width: 100%;
}

#epSearch {
    width: 100%;
    background: var(--input-bg);
    border: 1px solid var(--border);
    padding: 8px 8px 8px 34px;
    border-radius: 8px;
    color: var(--text-main);
    outline: none;
    font-size: 0.9rem;
}

#epSearch:focus {
    border-color: var(--primary);
}

.search-wrap .search-icon {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0.5;
    color: var(--text-sec);
}

.range-container {
    display: flex;
    gap: 5px;
    overflow-x: auto;
    padding-bottom: 5px;
    scrollbar-width: none;
}

.range-btn {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-sec);
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 0.75rem;
    white-space: nowrap;
    cursor: pointer;
    transition: 0.2s;
}

.range-btn:hover {
    border-color: var(--text-main);
    color: var(--text-main);
}

.range-btn.active {
    background: var(--primary);
    border-color: var(--primary);
    color: #fff;
}

/* –°–ø–∏—Å–æ–∫ */
.episode-list-wrapper {
    flex-grow: 1;
    overflow-y: auto;
    padding: 10px;
    min-height: 0;
}

.episode-list-wrapper::-webkit-scrollbar {
    width: 5px;
}

.episode-list-wrapper::-webkit-scrollbar-track {
    background: var(--surface);
}

.episode-list-wrapper::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 5px;
}

.episode-grid {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.ep-row {
    display: flex;
    align-items: center;
    width: 100%;
    background: transparent;
    border: none;
    border-radius: 6px;
    padding: 10px 12px;
    cursor: pointer;
    transition: 0.1s;
    text-align: left;
    color: var(--text-sec);
}

.ep-row:hover {
    background: var(--surface-hover);
    color: var(--text-main);
}

.ep-row.active {
    background: var(--primary);
    color: #fff;
    font-weight: 600;
}

/* –î–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —Ç–µ–∫—Å—Ç –≤—Å–µ–≥–¥–∞ –±–µ–ª—ã–π (—Ç.–∫. —Ñ–æ–Ω primary) */
.ep-row.active .ep-number,
.ep-row.active .ep-play-icon {
    color: #fff;
    opacity: 1;
}

.ep-number {
    width: 25px;
    margin-right: 10px;
    font-variant-numeric: tabular-nums;
    opacity: 0.7;
}

.ep-info {
    flex-grow: 1;
    font-size: 0.9rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.ep-play-icon {
    opacity: 0;
    font-size: 0.7rem;
}

.ep-row:hover .ep-play-icon,
.ep-row.active .ep-play-icon {
    opacity: 1;
}

/* –û—à–∏–±–∫–∏ / –ü—É—Å—Ç–æ */
.no-eps-found {
    padding: 20px;
    text-align: center;
    color: var(--text-sec);
    font-size: 0.9rem;
}

.no-content {
    text-align: center;
    padding: 60px;
    background: var(--surface);
    border-radius: 20px;
    border: 1px dashed var(--border);
}

.empty-icon {
    font-size: 3rem;
    margin-bottom: 15px;
    opacity: 0.5;
}

/* –ê–î–ê–ü–¢–ò–í */
@media (max-width: 1000px) {
    .anime-hero {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 30px;
    }

    .info-container {
        width: 100%;
        padding: 0;
    }

    .meta-tags {
        justify-content: center;
    }

    .description-box {
        margin: 0 auto 30px auto;
    }

    .cinema-container {
        grid-template-columns: 1fr;
        height: auto;
    }

    .video-wrapper {
        width: 100%;
        height: auto;
    }

    .playlist-sidebar {
        height: 350px;
        border-left: none;
        border-top: 1px solid var(--border);
        min-height: auto;
    }
}

/* === –ú–û–ë–ò–õ–¨–ù–´–ô –ü–õ–ï–ï–† (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Plyr) === */
@media (max-width: 768px) {

    /* –°–∫—Ä—ã–≤–∞–µ–º —Å–ª–∞–π–¥–µ—Ä –≥—Ä–æ–º–∫–æ—Å—Ç–∏ (–ø–æ–ª–æ—Å–∫—É), –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∏–∫–æ–Ω–∫—É */
    .plyr--full-ui.plyr--video .plyr__control--volume input[type=range] {
        display: none !important;
    }

    /* –î–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –Ω–µ –∑–∞–Ω–∏–º–∞–ª–∞ –ª–∏—à–Ω–µ–µ –º–µ—Å—Ç–æ */
    .plyr--full-ui.plyr--video .plyr__volume {
        width: auto;
        min-width: auto;
        flex: 0 0 auto;
    }

    /* –ó–∞—Å—Ç–∞–≤–ª—è–µ–º —à–∫–∞–ª—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (timeline) –∑–∞–Ω—è—Ç—å –≤—Å–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ */
    .plyr--full-ui.plyr--video .plyr__progress__container {
        flex: 1;
        min-width: 0;
    }

    /* –ù–µ–º–Ω–æ–≥–æ —É–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ */
    .plyr--full-ui.plyr--video .plyr__controls .plyr__control {
        padding: 7px;
        margin-left: 2px;
    }

    /* –ü–µ—Ä–µ–Ω–æ—Å–∏–º —Ç–∞–π–º–µ—Ä—ã (00:00 / 24:00) —á—É—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ */
    .plyr__time {
        font-size: 12px;
        padding: 0 5px;
    }
}

.plyr--video {
    --plyr-color-main: var(--primary);
}

/* === –°–¢–ò–õ–ò –§–†–ê–ù–®–ò–ó–´ === */
.franchise-section {
    margin-bottom: 40px;
    margin-top: -20px;
    /* –ß—É—Ç—å –ø–æ–¥—Ç—è–Ω–µ–º –∫ –≥–µ—Ä–æ—é */
}

.franchise-list-container {
    position: relative;
    width: 100%;
}

/* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
.franchise-track {
    display: flex;
    gap: 15px;
    overflow-x: auto;
    padding-bottom: 15px;
    padding-left: 2px;
    /* –ß—Ç–æ–±—ã —Ç–µ–Ω—å –ø–µ—Ä–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ –æ–±—Ä–µ–∑–∞–ª–∞—Å—å */
    scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
    scroll-behavior: smooth;
}

/* –°–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è Webkit */
.franchise-track::-webkit-scrollbar {
    height: 6px;
}

.franchise-track::-webkit-scrollbar-track {
    background: transparent;
}

.franchise-track::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 4px;
}

.franchise-track::-webkit-scrollbar-thumb:hover {
    background: var(--text-sec);
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ */
.fr-card {
    flex-shrink: 0;
    width: 140px;
    text-decoration: none;
    display: flex;
    flex-direction: column;
    gap: 8px;
    transition: transform 0.2s ease;
}

.fr-card:hover {
    transform: translateY(-4px);
}

/* –ü–æ—Å—Ç–µ—Ä */
.fr-poster {
    position: relative;
    width: 100%;
    aspect-ratio: 2/3;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid var(--border);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.fr-poster img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: 0.3s;
}

.fr-card:hover .fr-poster img {
    filter: brightness(1.1);
}

/* –ë–µ–π–¥–∂ —Å –Ω–æ–º–µ—Ä–æ–º (1, 2, 3...) */
.fr-order {
    position: absolute;
    top: 6px;
    left: 6px;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    color: #fff;
    font-size: 0.7rem;
    font-weight: 700;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* –û–≤–µ—Ä–ª–µ–π "–°–µ–π—á–∞—Å" */
.fr-overlay.active {
    position: absolute;
    inset: 0;
    background: rgba(var(--primary-rgb), 0.6);
    /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π primary */
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(2px);
}

/* –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è primary-rgb –Ω–µ –∑–∞–¥–∞–Ω–∞, —Ñ–æ–ª–±—ç–∫: */
.fr-overlay.active {
    background: rgba(139, 92, 246, 0.4);
    border: 2px solid var(--primary);
}

.fr-overlay span {
    color: #fff;
    font-weight: 700;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}

/* –¢–µ–∫—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ–∞ */
.fr-meta {
    display: flex;
    flex-direction: column;
}

.fr-year {
    font-size: 0.75rem;
    color: var(--text-sec);
    margin-bottom: 2px;
}

.fr-name {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-main);
    line-height: 1.3;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    transition: color 0.2s;
}

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ */
.fr-card.current .fr-name {
    color: var(--primary);
}

.fr-card:hover .fr-name {
    color: var(--primary);
}

/* –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
@media (max-width: 768px) {
    .franchise-card {
        width: 110px;
    }

    .fr-order {
        width: 20px;
        height: 20px;
        font-size: 0.65rem;
    }
}

/* –ü–∞–Ω–µ–ª—å –∫–æ–º–Ω–∞—Ç—ã */
/* –û—Ç–¥–µ–ª—è–µ–º –ø–∞–Ω–µ–ª—å –æ—Ç –ø–ª–µ–µ—Ä–∞ –∏ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
.party-controls-card.glass-panel {
    margin: 40px 0; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É */
    background: var(--glass-element-bg);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--glass-element-border);
    border-radius: 20px;
    padding: 24px;
    transition: all 0.3s ease;
}

/* –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –≤—Å—é –ø–∞–Ω–µ–ª—å */
.party-controls-card.glass-panel:hover {
    border-color: var(--primary-glow);
    box-shadow: 0 12px 40px var(--glass-element-shadow);
}

/* –°–µ—Ç–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ */
.members-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    padding-top: 8px;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ (–¢–∞–±–ª–µ—Ç–∫–∞) */
.member-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 6px 14px 6px 6px; /* –ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ —Å–ø—Ä–∞–≤–∞ –¥–ª—è –∏–º–µ–Ω–∏ */
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--glass-element-border);
    border-radius: 40px;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    animation: fadeInSlide 0.4s ease forwards;
}

.member-item:hover {
    transform: translateY(-2px);
    background: rgba(255, 255, 255, 0.1);
}

/* –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ö–æ—Å—Ç–∞ */
.member-item.is-host {
    border-color: var(--primary);
    background: var(--primary-glow);
    box-shadow: 0 0 15px rgba(var(--primary-rgb), 0.2);
}

/* –û–±–µ—Ä—Ç–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏ */
.avatar-wrapper {
    position: relative;
    width: 36px;
    height: 36px;
}

.member-avatar {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--surface);
    background: var(--input-bg);
}

/* –ú–∏–Ω–∏-–∑–Ω–∞—á–æ–∫ –∫–æ—Ä–æ–Ω—ã –∏–ª–∏ —Å—Ç–∞—Ç—É—Å–∞ */
.host-badge {
    position: absolute;
    bottom: -2px;
    right: -2px;
    background: #fbbf24;
    color: #000;
    font-size: 8px;
    font-weight: 900;
    width: 14px;
    height: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    border: 1px solid var(--surface);
}

.member-name {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-main);
    max-width: 120px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.host-crown {
    color: #fbbf24;
    filter: drop-shadow(0 0 5px rgba(251, 191, 36, 0.4));
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ */
@keyframes fadeInSlide {
    from { opacity: 0; transform: translateX(-10px); }
    to { opacity: 1; transform: translateX(0); }
}
.player-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8);
    display: flex; justify-content: center; align-items: center;
    z-index: 100; border-radius: 12px;
}

/* –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ */
.party-actions-group {
    display: flex;
    gap: 12px;
    align-items: center;
}

/* –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ (–°–æ–∑–¥–∞—Ç—å / –í—ã–π—Ç–∏) */
.party-main-btn {
    background: var(--primary);
    color: #ffffff;
    border: none;
    padding: 10px 22px;
    border-radius: 12px;
    font-size: 0.95rem;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 15px var(--primary-glow);
    white-space: nowrap;
}

.party-main-btn:hover {
    transform: translateY(-2px);
    filter: brightness(1.1);
    box-shadow: 0 6px 20px var(--primary-glow);
}

.party-main-btn:active {
    transform: translateY(0);
}

/* –°—Ç–∏–ª—å –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ü–æ–∫–∏–Ω—É—Ç—å –∫–æ–º–Ω–∞—Ç—É" (–∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω–∞) */
/* –ú—ã –º–æ–∂–µ–º –º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç –Ω–∞ –±–æ–ª–µ–µ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π –∏–ª–∏ –∫—Ä–∞—Å–Ω—ã–π –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ */
.party-main-btn:has(#party-btn-icon:contains('üö™')) {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid var(--glass-element-border);
    color: var(--text-main);
}

/* –ö–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏ (–ö—Ä—É–≥–ª–∞—è/–ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è —Å–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è) */
.action-btn-circle {
    width: 42px;
    height: 42px;
    border-radius: 12px;
    border: 1px solid var(--glass-element-border);
    background: var(--surface);
    color: var(--text-main);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    padding: 0;
}

.action-btn-circle:hover {
    background: var(--primary-glow);
    border-color: var(--primary);
    color: var(--primary);
    transform: rotate(-5deg) scale(1.1);
}

.action-btn-circle svg {
    transition: transform 0.2s ease;
}

.action-btn-circle:active svg {
    transform: scale(0.9);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –∏–∫–æ–Ω–∫–∏ ‚ú® –≤ –∫–Ω–æ–ø–∫–µ */
#party-btn-icon {
    font-size: 1.2rem;
    line-height: 1;
}

/* –°–æ—Å—Ç–æ—è–Ω–∏–µ "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ" –¥–ª—è –∫–Ω–æ–ø–∫–∏ (—á–µ—Ä–µ–∑ JS –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–ª–∞—Å—Å) */
.action-btn-circle.success {
    border-color: #10b981;
    color: #10b981;
    background: rgba(16, 185, 129, 0.1);
}
